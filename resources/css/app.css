@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
    html {
        @apply scroll-smooth;
    }

    body {
        @apply bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100;
        font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    }

    /* Dark mode transition */
    html.dark {
        color-scheme: dark;
    }

    /* Focus styles */
    *:focus-visible {
        @apply outline-none ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-gray-900;
    }

    /* Selection */
    ::selection {
        @apply bg-primary-200 dark:bg-primary-800;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
        @apply w-2 h-2;
    }

    ::-webkit-scrollbar-track {
        @apply bg-gray-100 dark:bg-gray-800;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-300 dark:bg-gray-600 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-400 dark:bg-gray-500;
    }
}

/* Custom component styles */
@layer components {
    /* Buttons */
    .btn {
        @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
    }

    .btn-primary {
        @apply btn bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 dark:bg-primary-500 dark:hover:bg-primary-600;
    }

    .btn-secondary {
        @apply btn bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600;
    }

    .btn-success {
        @apply btn bg-success-600 text-white hover:bg-success-700 focus:ring-success-500;
    }

    .btn-danger {
        @apply btn bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500;
    }

    .btn-warning {
        @apply btn bg-warning-500 text-white hover:bg-warning-600 focus:ring-warning-500;
    }

    .btn-ghost {
        @apply btn bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300;
    }

    .btn-outline {
        @apply btn border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white dark:border-primary-400 dark:text-primary-400 dark:hover:bg-primary-400 dark:hover:text-gray-900;
    }

    .btn-sm {
        @apply px-3 py-1.5 text-xs;
    }

    .btn-lg {
        @apply px-6 py-3 text-base;
    }

    .btn-icon {
        @apply p-2;
    }

    /* Cards */
    .card {
        @apply bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700;
    }

    .card-hover {
        @apply card hover:shadow-md hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200;
    }

    .card-body {
        @apply p-4 sm:p-6;
    }

    .card-header {
        @apply px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700;
    }

    .card-footer {
        @apply px-4 sm:px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 rounded-b-xl;
    }

    /* Form inputs */
    .input {
        @apply w-full px-3 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:focus:ring-primary-400 dark:focus:border-primary-400 transition-colors duration-200;
    }

    .input-error {
        @apply border-danger-500 focus:ring-danger-500 focus:border-danger-500;
    }

    .input-success {
        @apply border-success-500 focus:ring-success-500 focus:border-success-500;
    }

    .label {
        @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1;
    }

    .label-required::after {
        content: " *";
        @apply text-danger-500;
    }

    .form-error {
        @apply text-sm text-danger-600 dark:text-danger-400 mt-1;
    }

    .form-hint {
        @apply text-sm text-gray-500 dark:text-gray-400 mt-1;
    }

    /* Select */
    .select {
        @apply input appearance-none cursor-pointer;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
    }

    /* Checkbox & Radio */
    .checkbox, .radio {
        @apply w-4 h-4 text-primary-600 dark:text-primary-400 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 dark:focus:ring-primary-400 dark:focus:ring-offset-gray-900;
    }

    /* Badges */
    .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    }

    .badge-primary {
        @apply badge bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200;
    }

    .badge-secondary {
        @apply badge bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200;
    }

    .badge-success {
        @apply badge bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200;
    }

    .badge-warning {
        @apply badge bg-warning-100 text-warning-800 dark:bg-warning-900 dark:text-warning-200;
    }

    .badge-danger {
        @apply badge bg-danger-100 text-danger-800 dark:bg-danger-900 dark:text-danger-200;
    }

    /* Avatar */
    .avatar {
        @apply inline-flex items-center justify-center w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 font-medium text-sm overflow-hidden;
    }

    .avatar-sm {
        @apply w-8 h-8 text-xs;
    }

    .avatar-lg {
        @apply w-12 h-12 text-base;
    }

    .avatar-xl {
        @apply w-16 h-16 text-lg;
    }

    .avatar img {
        @apply w-full h-full object-cover;
    }

    /* Dropdown */
    .dropdown {
        @apply absolute z-50 mt-2 rounded-lg bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-gray-700 focus:outline-none;
    }

    .dropdown-item {
        @apply block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg;
    }

    /* Modal */
    .modal-backdrop {
        @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-40;
    }

    .modal {
        @apply fixed inset-0 z-50 flex items-center justify-center p-4;
    }

    .modal-content {
        @apply bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto;
    }

    /* Tabs */
    .tabs {
        @apply flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1;
    }

    .tab {
        @apply px-4 py-2 text-sm font-medium rounded-md text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200;
    }

    .tab-active {
        @apply bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm;
    }

    /* Tables */
    .table-container {
        @apply overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700;
    }

    .table {
        @apply min-w-full divide-y divide-gray-200 dark:divide-gray-700;
    }

    .table th {
        @apply px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-800;
    }

    .table td {
        @apply px-4 py-3 text-sm text-gray-900 dark:text-gray-100 whitespace-nowrap;
    }

    .table tbody tr {
        @apply bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors;
    }

    /* Code blocks */
    .code-block {
        @apply bg-gray-900 dark:bg-gray-950 text-gray-100 p-4 rounded-lg overflow-x-auto font-mono text-sm;
    }

    .code-inline {
        @apply bg-gray-100 dark:bg-gray-800 text-primary-600 dark:text-primary-400 px-1.5 py-0.5 rounded text-sm font-mono;
    }

    /* Markdown content */
    .markdown {
        @apply prose dark:prose-invert max-w-none;
    }

    .markdown h1 {
        @apply text-2xl font-bold mb-4;
    }

    .markdown h2 {
        @apply text-xl font-bold mb-3 mt-6;
    }

    .markdown h3 {
        @apply text-lg font-semibold mb-2 mt-4;
    }

    .markdown p {
        @apply mb-4;
    }

    .markdown ul {
        @apply list-disc list-inside mb-4 space-y-1;
    }

    .markdown ol {
        @apply list-decimal list-inside mb-4 space-y-1;
    }

    .markdown a {
        @apply text-primary-600 dark:text-primary-400 hover:underline;
    }

    .markdown blockquote {
        @apply border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic text-gray-600 dark:text-gray-400;
    }

    .markdown pre {
        @apply code-block mb-4;
    }

    .markdown code {
        @apply code-inline;
    }

    .markdown pre code {
        @apply bg-transparent p-0 text-inherit;
    }

    /* Skeleton loading */
    .skeleton {
        @apply animate-pulse bg-gray-200 dark:bg-gray-700 rounded;
    }

    /* Toast notifications */
    .toast {
        @apply fixed bottom-4 right-4 z-50 flex items-center p-4 rounded-lg shadow-lg;
    }

    .toast-success {
        @apply bg-success-50 dark:bg-success-900 text-success-800 dark:text-success-200 border border-success-200 dark:border-success-800;
    }

    .toast-error {
        @apply bg-danger-50 dark:bg-danger-900 text-danger-800 dark:text-danger-200 border border-danger-200 dark:border-danger-800;
    }

    .toast-warning {
        @apply bg-warning-50 dark:bg-warning-900 text-warning-800 dark:text-warning-200 border border-warning-200 dark:border-warning-800;
    }

    .toast-info {
        @apply bg-primary-50 dark:bg-primary-900 text-primary-800 dark:text-primary-200 border border-primary-200 dark:border-primary-800;
    }
}

/* Custom utility styles */
@layer utilities {
    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-accent-600;
    }

    .animate-in {
        animation: animate-in 0.3s ease-out;
    }

    @keyframes animate-in {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .hide-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .line-clamp-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}